# HTML DOM è™•ç†

## å‰è¨€

KKtix å”®ç¥¨é é¢åˆ†äº†å¹¾å€‹é¡å‹ï¼Œé€™å€‹è‡ªå‹•æª¢æŸ¥è…³æœ¬åƒ…é©ç”¨ KKtix éƒ¨åˆ†é é¢

## è…³æœ¬å¦‚ä½•é‹ä½œ

è…³æœ¬çš„å·¥ä½œæµç¨‹å¦‚ä¸‹

1. ç­‰å¾…å”®ç¥¨å€å¡Šå‡ºç¾
2. è¨ˆç®—å„ç¨®ç¥¨é¢æ•¸é‡æ˜¯å¦æ­£ç¢ºï¼ˆex. æ˜¯å¦æœ‰å¤§æ–¼0çš„æ•¸é‡ã€å”®ç½„+æœªå”®å‡ºç¥¨ æ˜¯å¦ç­‰æ–¼ç¸½ç¥¨æ•¸ï¼‰
3. è‹¥æœ‰ç¥¨å¯è²·å‰‡åœç•™ç›®å‰é é¢ï¼ˆæƒ³ç²å¾—é€šçŸ¥éœ€é…åˆå…¶ä»–å·¥å…·ï¼‰
4. é 3. çš„ç‹€æ³æ™‚é‡æ–°æ•´ç†é é¢ï¼ˆæƒ³è‡ªå‹•å›åˆ° 1. éœ€é…åˆç€è¦½å™¨å»¶ä¼¸å¥—ä»¶ï¼‰

## ä½¿ç”¨æ–¹æ³•

ä¸‹é¢åˆ—å‡ºå¸¸è¦‹çš„å¹¾ç¨®ä½¿ç”¨æ–¹å¼

### ä¸€ã€é–‹ç™¼äººå“¡å·¥å…·

1. é–‹å•Ÿä½ æƒ³æª¢æ¸¬çš„é é¢å¾Œé–‹å•Ÿã€Œé–‹ç™¼äººå“¡å·¥å…·ã€

- Windows å¿«é€Ÿéµ
  - Chrome/Edge: `Ctrl` + `Shift` + `I`
- Mac å¿«é€Ÿéµ
  - Chrome/Safari/Edge: `Option` + `Command` + `I`

2. æ–¼ä¸»æ§å°è²¼ä¸Šæ•´æ®µ JS ç¨‹å¼ç¢¼å¾ŒæŒ‰ `Enter`

### äºŒã€å®‰è£æ“´å……åŠŸèƒ½ï¼ˆChromeï¼‰

æ­¤é¡å·¥å…·æ¶‰åŠè³‡å®‰æ‡‰è¬¹æ…ä½¿ç”¨ï¼Œå› æ­¤é€™é‚Šåƒ…å‘ŠçŸ¥æœ‰é€™å€‹æ–¹æ³•ä¸¦ä¸é€²è¡Œæ•™å­¸èªªæ˜
æ­¤é¡å·¥å…·ä¸»è¦åŠŸèƒ½ç‚ºï¼Œå¯ä»¥è¨­å®šç•¶å“ªå€‹ç¶²å€è¢«é–‹å•Ÿå¾Œè‡ªå‹•åŸ·è¡Œä»€éº¼è…³æœ¬ï¼Œé…åˆè…³æœ¬æœƒè‡ªå‹•é‡æ•´é é¢ï¼Œåšåˆ°æŒçºŒåˆ·æ–°é é¢

### ä¸‰ã€åˆ©ç”¨æˆ‘çš„æœ€æ„›(æ›¸ç±¤)åŸ·è¡Œè…³æœ¬

å°‡ JavaScript è…³æœ¬æ”¾åœ¨ç€è¦½å™¨æœ€æ„›é€£çµï¼ˆæ›¸ç±¤ï¼‰ä¸­åŸ·è¡Œçš„æŠ€è¡“ï¼Œç¨±ç‚º Bookmarkletï¼ˆæ›¸ç±¤å°ç¨‹åºï¼‰ã€‚

Bookmarklet çš„ç‰¹é»
  - ç°¡å–®æ˜“ç”¨ï¼šåªéœ€å°‡ä»£ç¢¼å­˜ç‚ºæ›¸ç±¤ï¼Œé»æ“Šå³å¯åŸ·è¡Œã€‚
  - è·¨å¹³å°ï¼šé©ç”¨æ–¼å¤§å¤šæ•¸ç¾ä»£ç€è¦½å™¨ï¼ˆå¦‚ Chromeã€Firefoxã€Safariï¼‰ã€‚
  - é™åˆ¶ï¼šå—ç€è¦½å™¨ URL é•·åº¦é™åˆ¶ï¼ˆé€šå¸¸ç´„ 2000 å­—å…ƒï¼‰ï¼Œå› æ­¤ä»£ç¢¼éœ€è¦ç²¾ç°¡ï¼ˆä¸å¯æ›è¡Œï¼‰ï¼Œæˆ–é€éå¤–éƒ¨è…³æœ¬è¼‰å…¥ã€‚
  - å®‰å…¨æ³¨æ„ï¼šBookmarklet èƒ½å­˜å–ç•¶å‰ç¶²é çš„ DOM å’Œè³‡æ–™ï¼ˆå¦‚ cookiesï¼‰ï¼Œå› æ­¤åƒ…æ‡‰ä½¿ç”¨ä¾†è‡ªå¯ä¿¡ä¾†æºçš„ä»£ç¢¼ï¼Œä»¥å…æ´©éœ²éš±ç§æˆ–åŸ·è¡Œæƒ¡æ„ä»£ç¢¼ã€‚

1. æº–å‚™å¥½æ‰€éœ€æ ¼å¼çš„ javascript ç¨‹å¼
   ```javascript
   javascript:(function(){'use strict';const e=!0,t=new Date().getTime(),o=new MutationObserver(()=>{const e=document.querySelector('.ticket-quantity');if(e){o.disconnect();var n=new Date().getTime();console.log(n+': ğŸ¯ ç›®æ¨™å…ƒç´ å‡ºç¾'),console.log("å·®å¹¾ç§’"+(n-t)),c()}}),n=()=>{if(e){document.querySelectorAll('.ticket-quantity.ng-binding.ng-scope').forEach(e=>{const t=e.closest('.ticket-unit.ng-scope');t&&(t.style.display='none')})}},c=()=>{const e=document.querySelectorAll('.ticket-unit').length,t=document.querySelectorAll('.ticket-quantity.ng-binding.ng-scope').length,o=document.querySelectorAll('.ticket-quantity.ng-scope:not(.ng-binding)').length;if(0===e)console.warn('æ²’æœ‰å±•ç¤ºä»»ä½•ç¥¨ä½ï¼Ÿï¼Ÿ');else if(e-t<=0)console.warn('å…¨éƒ¨ç¥¨ä½å·²å”®å®Œï¼');else if(e-t!==o)console.warn('ç¥¨ä½æ•¸é‡ä¸ä¸€è‡´ï¼ï¼Ÿ');else{console.log('ğŸ‰ æœ‰ç¥¨å¯è²·ï¼æ’­æ”¾æç¤ºéŸ³ï¼'),fetch('http://localhost:8080'),n();return}const c=Math.floor(2e3*Math.random())+1e3;console.warn(c+'æ¯«ç§’å¾Œé‡æ–°æ•´ç†'),setTimeout(() => location.reload(),c)};console.log(t+': Start waitting...'),o.observe(document.body,{childList:!0,subtree:!0})})()
   ```

2. æ‰‹å‹•æ·»åŠ æ›¸ç±¤ï¼š
  - æ‰“é–‹ç€è¦½å™¨çš„æ›¸ç±¤ç®¡ç†å™¨ï¼ˆé€šå¸¸åœ¨é¸å–®ä¸­æ‰¾åˆ°ã€Œæ›¸ç±¤ã€æˆ–ã€Œæ›¸ç±¤ç®¡ç†ã€ï¼‰ã€‚
  - é¸æ“‡ã€Œæ–°å»ºæ›¸ç±¤ã€æˆ–ã€Œæ·»åŠ æ›¸ç±¤ã€ã€‚
  - åœ¨ã€Œåç¨±ã€æ¬„è¼¸å…¥æ›¸ç±¤åç¨±ï¼ˆä¾‹å¦‚ã€Œæˆ‘çš„ Bookmarkletã€ï¼‰ã€‚
  - åœ¨ã€ŒURLã€æ¬„è²¼ä¸Šç”Ÿæˆçš„ javascript: URLã€‚
  - ä¿å­˜æ›¸ç±¤ã€‚

3. æ‹–æ›³æ·»åŠ ï¼ˆè‹¥å·¥å…·æ”¯æ´ï¼‰ï¼š
  - å°‡å·¥å…·ç”Ÿæˆçš„é€£çµç›´æ¥æ‹–åˆ°ç€è¦½å™¨çš„æ›¸ç±¤æ¬„æˆ–æ›¸ç±¤é¸å–®ã€‚

4. åŸ·è¡Œæ¸¬è©¦ï¼š
  - æ‰“é–‹ç›®æ¨™ç¶²é ã€‚
  - é»æ“Šæ›¸ç±¤æ¬„ä¸­çš„ Bookmarkletã€‚
